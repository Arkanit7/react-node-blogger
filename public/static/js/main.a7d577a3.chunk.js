(this["webpackJsonpreact-create-app"]=this["webpackJsonpreact-create-app"]||[]).push([[0],{33:function(e,t,c){},40:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),l=c(27),r=c.n(l),s=(c(33),c(8));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var c,a,n=function(e,t){if(null==e)return{};var c,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)c=l[a],t.indexOf(c)>=0||(n[c]=e[c]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)c=l[a],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(n[c]=e[c])}return n}var o=a.createElement("g",null,a.createElement("path",{d:"M95.329,59.861c-0.031-7.134-0.053-12.289-3.562-16.824c-3.975-5.134-10.106-6.004-15.076-6.152 c0.837-3.587,1.079-7.564,0.692-11.863C77.277,10.705,66.624,0.414,51.839,0.006L51.626,0L29.012,0.018l-0.243-0.001 c-8.795,0-15.747,2.626-20.664,7.804c-3.043,3.203-7.085,8.798-7.513,17.845l-0.018,36.48c-0.044,0.689,0.025,1.385,0.016,2.1 c0,10.379,1.661,17.85,6.848,23.371c5.183,5.521,12.847,8.32,22.776,8.32c0.215,0,0.432-0.001,0.649-0.004H65.41h0.082 c8.858-0.074,16.343-2.998,21.646-8.455c5.293-5.447,8.143-13.208,8.24-22.441C95.377,65.037,95.335,61.32,95.329,59.861z  M30.846,19.457l19.322-0.023c4.554,0.072,8.188,4.151,8.114,8.705c-0.072,4.509-3.749,7.799-8.242,7.799 c-0.044,0-19.455,0.008-19.455,0.008c-4.554-0.073-8.186-3.823-8.113-8.375C22.544,23.017,26.286,19.413,30.846,19.457z  M67.164,73.732H28.521c-4.553,0-8.246-3.691-8.246-8.246c0-4.554,3.693-8.246,8.246-8.246h38.644c4.555,0,8.246,3.692,8.246,8.246 C75.411,70.041,71.719,73.732,67.164,73.732z"})),j=a.createElement("g",null),d=a.createElement("g",null),u=a.createElement("g",null),O=a.createElement("g",null),m=a.createElement("g",null),h=a.createElement("g",null),x=a.createElement("g",null),g=a.createElement("g",null),_=a.createElement("g",null),f=a.createElement("g",null),p=a.createElement("g",null),N=a.createElement("g",null),v=a.createElement("g",null),E=a.createElement("g",null),y=a.createElement("g",null);function w(e,t){var c=e.title,n=e.titleId,l=b(e,["title","titleId"]);return a.createElement("svg",i({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"95.938px",height:"95.938px",viewBox:"0 0 95.938 95.938",style:{enableBackground:"new 0 0 95.938 95.938"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},l),c?a.createElement("title",{id:n},c):null,o,j,d,u,O,m,h,x,g,_,f,p,N,v,E,y)}var R=a.forwardRef(w),S=(c.p,c(1));function k(e){return Object(S.jsx)("div",{className:"navbar",children:Object(S.jsxs)("div",{className:"navbar__container container",children:[Object(S.jsxs)(s.b,{to:"/",className:"navbar__brand",children:[Object(S.jsx)("div",{className:"navbar__svg-layout",children:Object(S.jsx)(R,{className:"navbar__svg"})}),e.title]}),Object(S.jsx)("nav",{className:"navbar__nav nav",children:Object(S.jsx)("ul",{className:"nav__list",children:e.children})})]})})}function C(e){return Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(s.b,{to:e.to,className:"nav__link",children:e.children})})}c(40);var D=c(5),L=c(17),B=c(10),T=c.n(B);function A(e,t,c){var n=Object(a.useState)(!1),l=Object(D.a)(n,2),r=l[0],s=l[1],i=Object(a.useState)(!1),b=Object(D.a)(i,2),o=b[0],j=b[1],d=Object(a.useState)([]),u=Object(D.a)(d,2),O=u[0],m=u[1];return Object(a.useEffect)((function(){var a;return j(!1),s(!0),T()(Object(L.a)(Object(L.a)({method:e,url:t},c),{},{cancelToken:new T.a.CancelToken((function(e){return a=e}))})).then((function(e){s(!1),console.log(e),m(e.data)})).catch((function(e){T.a.isCancel(e)||(s(!1),j(!0),console.log(e))})),function(){return a()}}),[e,t,c]),[O,r,o]}c(59);function I(){function e(e){var t=Date.parse(e);return new Date(t).toLocaleString()}var t=A("GET","/blogs/all"),c=Object(D.a)(t,3),a=c[0],n=c[1],l=c[2];function r(t){return Object(S.jsx)("li",{className:"blogs__item",children:Object(S.jsxs)(s.b,{to:"/blog/"+t.blog._id,className:"blogs__link",children:[Object(S.jsx)("h2",{className:"blogs__title",children:t.blog.title}),Object(S.jsx)("time",{dateTime:t.blog.createdAt,className:"blogs__time",children:e(t.blog.createdAt)})]})})}return Object(S.jsxs)("article",{className:"blogs",children:[Object(S.jsx)("ul",{className:"blogs__list",children:a.map((function(e,t){return Object(S.jsx)(r,{blog:e},t)}))}),Object(S.jsx)("span",{className:"system _loading",children:n&&"Loading..."}),Object(S.jsx)("span",{className:"system _error",children:l&&"ERROR"}),!n&&!l&&!a.length&&Object(S.jsx)("span",{className:"title",children:"Be the first who create a blog!"})]})}var M=c(2);c(60);function q(){var e=Object(M.g)().id,t=Object(M.f)(),c=A("GET","/blog/".concat(e)),n=Object(D.a)(c,3),l=n[0],r=n[1],s=n[2],i=Object(a.useState)(!1),b=Object(D.a)(i,2),o=b[0],j=b[1],d=Object(a.useState)(!1),u=Object(D.a)(d,2),O=u[0],m=u[1];if(!l)return Object(S.jsx)("p",{children:"NOT FOUND"});return Object(S.jsxs)("article",{className:"blog",children:[Object(S.jsxs)("header",{className:"blog__header",children:[Object(S.jsx)("h1",{className:"blog__title title",children:l.title}),Object(S.jsx)("time",{dateTime:l.createdAt,className:"blog__time",children:function(e){var t=Date.parse(e);return new Date(t).toLocaleString()}(l.createdAt)})]}),Object(S.jsx)("p",{className:"blog__text",children:l.body}),Object(S.jsx)("address",{className:"blog__author",children:l.author}),!s&&!r&&Object(S.jsxs)("button",{onClick:function(){j(!0),m(!1),T()({method:"DELETE",url:"/blogs/delete/",data:{_id:e}}).then((function(e){j(!1),t.push("/")})).catch((function(e){console.log(e),m(!0),j(!1)}))},className:"btn blog__btn",children:[O&&"ERROR ",o&&"Loading...",!O&&!o&&"Delete blog"]}),Object(S.jsx)("span",{className:"system _loading",children:r&&"Loading..."}),Object(S.jsx)("span",{className:"system _loading",children:s&&"ERROR"})]})}c(61);function z(){return Object(S.jsxs)("section",{className:"error",children:[Object(S.jsx)("h1",{className:"error__title title",children:"ERROR"}),Object(S.jsx)("p",{className:"error__text",children:"Sorry! But it seems that this page does not exist."}),Object(S.jsx)(s.b,{to:"/",className:"error__link",children:"Go to home page"})]})}c(62);function G(){var e=Object(a.useState)(!1),t=Object(D.a)(e,2),c=t[0],n=t[1],l=Object(a.useState)(!1),r=Object(D.a)(l,2),s=r[0],i=r[1],b=Object(M.f)();return Object(S.jsxs)("section",{className:"create",children:[Object(S.jsx)("h1",{className:"create__title title",children:"Add a new blog"}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(!0),i(!1);var t=Object.fromEntries(new FormData(e.target).entries());T.a.post("/blogs/create/",t).then((function(e){n(!1),b.push("/blog/"+e.data._id)})).catch((function(e){i(!0),n(!1)}))},className:"create__form container",children:[Object(S.jsxs)("label",{className:"create__label",children:["Blog title:",Object(S.jsx)("br",{}),Object(S.jsx)("input",{name:"title",type:"text",className:"create__field",required:!0})]}),Object(S.jsxs)("label",{className:"create__label _wide",children:["Blog body:",Object(S.jsx)("br",{}),Object(S.jsx)("textarea",{name:"body",className:"create__area",required:!0})]}),Object(S.jsxs)("label",{className:"create__label",children:["Author:",Object(S.jsx)("br",{}),Object(S.jsx)("input",{name:"author",type:"text",className:"create__field",required:!0})]}),Object(S.jsxs)("button",{className:"btn create__btn",type:"submit",children:[s&&"ERROR ",c&&"Loading...",!s&&!c&&"Create"]})]})]})}function H(){return Object(S.jsx)("div",{className:"wrapper",children:Object(S.jsxs)(s.a,{children:[Object(S.jsxs)(k,{title:"Blogger",children:[Object(S.jsx)(C,{to:"/",children:"Home"}),Object(S.jsx)(C,{to:"/create",children:"Create"})]}),Object(S.jsx)("main",{className:"main",children:Object(S.jsx)("div",{className:"main__container container",children:Object(S.jsxs)(M.c,{children:[Object(S.jsx)(M.a,{path:"/blog/:id",children:Object(S.jsx)(q,{})}),Object(S.jsx)(M.a,{exact:!0,path:"/create",children:Object(S.jsx)(G,{})}),Object(S.jsx)(M.a,{exact:!0,path:"/",children:Object(S.jsx)(I,{})}),Object(S.jsx)(M.a,{path:"*",children:Object(S.jsx)(z,{})})]})})})]})})}r.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(H,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.a7d577a3.chunk.js.map